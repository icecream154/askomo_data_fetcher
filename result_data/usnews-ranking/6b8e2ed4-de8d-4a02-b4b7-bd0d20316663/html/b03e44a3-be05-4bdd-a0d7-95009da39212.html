(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1293],{"6zi+":function(e,t,o){"use strict";o.r(t);var n=o("4BeY");var a=o.n(n);var r=o("IaFt");var i=o.n(r);var s=new a.a({id:"plus",use:"plus-usage",viewBox:"0 0 64 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="plus"><path d="M52 26.45H37.55V12a2 2 0 0 0-2-2h-7.1a2 2 0 0 0-2 2v14.45H12a2 2 0 0 0-2 2v7.1a2 2 0 0 0 2 2h14.45V52a2 2 0 0 0 2 2h7.1a2 2 0 0 0 2-2V37.55H52a2 2 0 0 0 2-2v-7.1a2 2 0 0 0-2-2" /></symbol>'});var l=i.a.add(s);t["default"]=s},IDtZ:function(e,t,o){"use strict";var n=o("TqRt");o("5s+n");o("UxlC");o("3bBZ");Object.defineProperty(t,"__esModule",{value:true});t.getCookieValue=s;t.default=void 0;var a=n(o("lSNA"));var r=o("c510");const i="/commerce/foobar?json";function s(e){try{const t=document.cookie.split(";");for(let o of t){let t=o.substr(0,o.indexOf("="));t=t.replace(/^\s+|\s+$/g,"");if(t===e){let e=o.substr(o.indexOf("=")+1);return e}}}catch(e){return null}return null}class l{constructor(){(0,a.default)(this,"resetAuthPromise",()=>{this._authenticationPromise=null});this._authenticationPromise=null}getAuthPromise(){this._authenticationPromise||(this._authenticationPromise=(0,r.tryAuth)().catch(()=>null).then(e=>new Promise(t=>{const o=!!e||!!s("auth");const n=e;o?fetch(i,{credentials:"same-origin"}).then(e=>{if(200!=e.status)return null;return e.json()}).then(e=>{if(e)t(e);else{var o,a,s,l,d,c,u,f;let e=new FormData;e.append("customer_accept_promotions",true);e.append("validation_signup",true);let m="";const g=null===(o=window)||void 0===o?void 0:null===(a=o.location)||void 0===a?void 0:null===(s=a.host)||void 0===s?void 0:s.indexOf("-");const y=null===(l=window)||void 0===l?void 0:null===(d=l.location)||void 0===d?void 0:null===(c=d.host)||void 0===c?void 0:c.indexOf(".usnews.com");g>0&&(m=window.location.host.substring(g,y));fetch("https://secure"+m+".usnews.com/commerce/signup",{method:"POST",headers:{Accept:"application/json"},credentials:"include",body:e}).then(()=>{fetch(i,{credentials:"same-origin"}).then(e=>{if(200!=e.status)return null;return e.json()}).then(e=>{t(e)})}).catch(()=>{});const v="undefined"!==typeof window&&(null===(u=window)||void 0===u?void 0:null===(f=u.utag_data)||void 0===f?void 0:f.site_product);if(n&&n.loginSource==r.LoginSources.GOOGLE_ONE_TAP&&["bestcolleges","Best Graduate Schools","K-12","Best High Schools"].includes(v)){var p,h;const e=window.location.host;const t=e.indexOf("-");let o=".usnews.com";t>-1&&(o=e.substring(t));window.location.href="https://secure"+o+"/commerce/signup?src=onetap_redirect&ref="+(null===(p=window)||void 0===p?void 0:null===(h=p.location)||void 0===h?void 0:h.href)}}}).catch(()=>{t(null)}):t(null)})));return this._authenticationPromise}getPremiumPromise(){return this.getAuthPromise().then(e=>{return new Promise(t=>{e&&e.hasOwnProperty("compass_is_premium")?t(e.compass_is_premium):t(false)})})}getExpiredPromise(){return this.getAuthPromise().then(e=>{return new Promise(t=>{e&&e.hasOwnProperty("expired_compass_premium")?t(e.expired_compass_premium):t(false)})})}}var d=new l;t.default=d},K5qi:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"gungnirGraphql_deprecated",{enumerable:true,get:function(){return n.connectPageContextQuery}});var n=o("LLuW")},LpSC:function(e,t,o){o("bZMm");e.exports=self.fetch.bind(self)},bZMm:function(e,t){(function(e){"use strict";if(e.fetch)return;var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer){var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1}}function r(e){"string"!==typeof e&&(e=String(e));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){"string"!==typeof e&&(e=String(e));return e}function s(e){var o={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};t.iterable&&(o[Symbol.iterator]=function(){return o});return o}function l(e){this.map={};e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}l.prototype.append=function(e,t){e=r(e);t=i(t);var o=this.map[e];this.map[e]=o?o+","+t:t};l.prototype["delete"]=function(e){delete this.map[r(e)]};l.prototype.get=function(e){e=r(e);return this.has(e)?this.map[e]:null};l.prototype.has=function(e){return this.map.hasOwnProperty(r(e))};l.prototype.set=function(e,t){this.map[r(e)]=i(t)};l.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)};l.prototype.keys=function(){var e=[];this.forEach(function(t,o){e.push(o)});return s(e)};l.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return s(e)};l.prototype.entries=function(){var e=[];this.forEach(function(t,o){e.push([o,t])});return s(e)};t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=true}function c(e){return new Promise(function(t,o){e.onload=function(){t(e.result)};e.onerror=function(){o(e.error)}})}function u(e){var t=new FileReader;var o=c(t);t.readAsArrayBuffer(e);return o}function f(e){var t=new FileReader;var o=c(t);t.readAsText(e);return o}function p(e){var t=new Uint8Array(e);var o=new Array(t.length);for(var n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}function m(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e)){this._bodyArrayBuffer=h(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};if(t.blob){this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}}this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};t.formData&&(this.formData=function(){return this.text().then(b)});this.json=function(){return this.text().then(JSON.parse)};return this}var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function v(e,t){t=t||{};var o=t.body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url;this.credentials=e.credentials;t.headers||(this.headers=new l(e.headers));this.method=e.method;this.mode=e.mode;if(!o&&null!=e._bodyInit){o=e._bodyInit;e.bodyUsed=true}}else this.url=String(e);this.credentials=t.credentials||this.credentials||"omit";!t.headers&&this.headers||(this.headers=new l(t.headers));this.method=y(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function b(e){var t=new FormData;e.trim().split("&").forEach(function(e){if(e){var o=e.split("=");var n=o.shift().replace(/\+/g," ");var a=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}});return t}function C(e){var t=new l;e.split(/\r?\n/).forEach(function(e){var o=e.split(":");var n=o.shift().trim();if(n){var a=o.join(":").trim();t.append(n,a)}});return t}m.call(v.prototype);function w(e,t){t||(t={});this.type="default";this.status="status"in t?t.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new l(t.headers);this.url=t.url||"";this._initBody(e)}m.call(w.prototype);w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})};w.error=function(){var e=new w(null,{status:0,statusText:""});e.type="error";return e};var _=[301,302,303,307,308];w.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};e.Headers=l;e.Request=v;e.Response=w;e.fetch=function(e,o){return new Promise(function(n,a){var r=new v(e,o);var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:C(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new w(t,e))};i.onerror=function(){a(new TypeError("Network request failed"))};i.ontimeout=function(){a(new TypeError("Network request failed"))};i.open(r.method,r.url,true);"include"===r.credentials&&(i.withCredentials=true);"responseType"in i&&t.blob&&(i.responseType="blob");r.headers.forEach(function(e,t){i.setRequestHeader(t,e)});i.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})};e.fetch.polyfill=true})("undefined"!==typeof self?self:this)},jYiI:function(e,t,o){"use strict";o("5s+n");Object.defineProperty(t,"__esModule",{value:true});t.default=t.geolocate=void 0;o("LpSC");var n=o("si7X");const a="https://www.usnews.com/static/esi/usn-geo.json";const r=(0,n.getFeatureFlag)("debug-country-code");let i=null;const s=()=>{i||(i=fetch(a).then(e=>{if(!e.ok)throw new Error("Could not fetch geolocation data",e.statusText);return e}).then(e=>e.json()).then(e=>e.geo).then(e=>r?{...e,country_code:r}:e));return i};t.geolocate=s;var l=s;t.default=l},"l+6x":function(e,t,o){"use strict";o("5s+n");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const n={POST:"POST",GET:"GET",PUT:"PUT",DELETE:"DELETE"};async function a(e,t,o=null,n=null){const a=n?{method:t,headers:{Accept:"application/json"},body:JSON.stringify(n)}:{method:t,headers:{Accept:"application/json"}};const r=await fetch(e,a);if("function"===typeof o){const e=await o(r);return e}return r}async function r(e){const{data:t}=await e.json();return t}async function i(e,t,o=null){try{let i;if("object"===typeof e){const t=e.join(",");i=o?{schoolIds:t,programUrlname:o}:{schoolIds:t}}else i=o?{schoolId:e,programUrlname:o}:{schoolId:e};const s=await a(t,n.POST,r,i);return s.data?s.data.comparison:s.comparison}catch(e){return null}}async function s(e){try{const t=await a(e,n.GET,r);return t.data?t.data.comparisons:t.comparisons}catch(e){return null}}async function l(e,t,o=null){try{const r=e=>200===e.status;const i=(t+"?schoolId="+e).concat(o?"&programUrlname="+o:"");const s=await a(i,n.DELETE,r);return s}catch(e){return null}}async function d(e,t,o=null){if(!e)return[];try{const n=o?{schools:e,program:o}:{schools:e};const a=await fetch(t,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});return r(a)}catch(t){return e}}var c={create:i,get:s,remove:l,cleanUp:d};t.default=c;e.exports=t.default},"m+lb":function(e,t){var o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PageContext"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stickyCompareProduct"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stickyCompareAddButton"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hideStickyCompare"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"toggled_slideup"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:152}};o.loc.source={body:"query PageContext {\n    context {\n        stickyCompareProduct\n        stickyCompareAddButton\n        hideStickyCompare\n        toggled_slideup\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return true;var t=e.name.value;if(n[t])return false;n[t]=true;return true})}function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var o=e.type;"NamedType"===o.kind&&t.add(o.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){r(e,t)});e.variableDefinitions&&e.variableDefinitions.forEach(function(e){r(e,t)});e.definitions&&e.definitions.forEach(function(e){r(e,t)})}var i={};(function e(){o.definitions.forEach(function(e){if(e.name){var t=new Set;r(e,t);i[e.name.value]=t}})})();function s(e,t){for(var o=0;o<e.definitions.length;o++){var n=e.definitions[o];if(n.name&&n.name.value==t)return n}}function l(e,t){var o={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(o.loc=e.loc);var n=i[t]||new Set;var a=new Set;var r=new Set;n.forEach(function(e){r.add(e)});while(r.size>0){var l=r;r=new Set;l.forEach(function(e){if(!a.has(e)){a.add(e);var t=i[e]||new Set;t.forEach(function(e){r.add(e)})}})}a.forEach(function(t){var n=s(e,t);n&&o.definitions.push(n)});return o}e.exports=o;e.exports["PageContext"]=l(o,"PageContext")},q7H3:function(e,t,o){"use strict";var n=o("TqRt");var a=o("284h");o("5s+n");o("3bBZ");Object.defineProperty(t,"__esModule",{value:true});t.formatSchoolData=f;t.CompareProvider=g;t.CompareConsumer=t.CompareItemShape=t.MAX_SCHOOL_LIMIT=t.CompareContext=void 0;var r=a(o("q1tI"));var i=n(o("17x9"));var s=n(o("IDtZ"));var l=n(o("l+6x"));var d=n(o("rQMp"));const c=e=>{return e.display_name};const u=e=>{return[e.location.city,e.location.state].filter(e=>e).join(", ")};function f(e){return{id:e.id,name:c(e)||e.name,location:u(e)||e.city+", "+e.state}}const p=r.default.createContext();t.CompareContext=p;const h=25;t.MAX_SCHOOL_LIMIT=h;const m=["top-business-schools","top-education-schools","top-engineering-schools","top-law-schools","top-medical-schools","top-nursing-schools"];function g({allowCompareAuthCheck:e,children:t,endpoint:o,product:n,stickyCompareProduct:a,allowCompareContextLoad:i}){const c=e=>d.default.setValue("usnCompareUserData",e);const u=()=>d.default.getValue("usnCompareUserData")||{};const g=e=>e.map(f);const y="colleges"===n;const v=e=>{const t="api/compare/user/cleanup";switch(e){case"grad":return"/best-graduate-schools/compass/"+t;case"online":return"/education/online-education/"+t;default:return"/best-colleges/compass/"+t}};const b=async()=>{const e=await C(true);_({...e})};const C=async t=>{var r;const i=!(!e||t)&&await s.default.getAuthPromise();let d=[];let f=u();const p=(null===f||void 0===f?void 0:null===(r=f[a])||void 0===r?void 0:r.schools)||[];try{var h,m,b;const e=y?null:a;i&&true==i.tool_eligible?d=await l.default.get(o):(y||!y&&e)&&(d=await l.default.cleanUp(p,v(n),e));null!==(h=d)&&void 0!==h&&h[a]&&(d=d[a]);d=(null===(m=d)||void 0===m?void 0:m.length)>0?g(d):[];0===(null===(b=d)||void 0===b?void 0:b.length)&&(null===p||void 0===p?void 0:p.length)>0&&(d=p)}catch(e){d=p}f[a]={schools:d};(!i||i&&false==i.tool_eligible)&&c(f);return{authenticated:!!i&&(null===i||void 0===i?void 0:i.tool_eligible),autoFocus:null,firstCompareAdd:false,program:a,selectedCompareIds:d.map(e=>e.id)||[],schoolData:d||[]}};const[w,_]=(0,r.useState)({authenticated:false,autoFocus:null,firstCompareAdd:false,program:a,selectedCompareIds:[],schoolData:[]});const{authenticated:k,autoFocus:x,firstCompareAdd:P,program:E,selectedCompareIds:S,schoolData:I}=w;(0,r.useEffect)(()=>{if(i){const e=async()=>{const e=await C();_({...e})};e()}},[a]);const T=e=>_({autoFocus:e});const A=e=>!!S&&S.includes(e);const B=()=>{if("bc"===E)return"/best-colleges/compare?";return m.indexOf(E)>-1?"/best-graduate-schools/compare?program_type="+E+"&":"usnews.com"};const D=()=>S.length>0?S.map(e=>"usnews_id="+encodeURIComponent(e)).join("&"):"";const O=()=>""+B()+D();const U=async(e,t)=>{let n=false;let a=[];if(!I||I&&0==I.length){const t=await C();n=!(t.schoolData.length>0)||!t.schoolData.find(t=>t.id===e.id);if(n){t.authenticated&&l.default.create(e.id,o,t.program);a=t.schoolData&&t.schoolData.length>0?t.schoolData.length<h?[f(e),...t.schoolData]:[...t.schoolData]:[f(e)]}else{t.authenticated&&l.default.remove(e.id,o,t.program);a=t.schoolData.filter(t=>t.id!==e.id)}}else{n=!I.find(t=>t.id===e.id);if(n){k&&l.default.create(e.id,o,E);a=I.length<h?[f(e),...I]:[...I]}else{k&&l.default.remove(e.id,o,E);a=I.filter(t=>t.id!==e.id)}}let r=u();r[E]={schools:a};c(r);const i=a.map(e=>e.id);_({schoolData:a,selectedCompareIds:i,firstCompareAdd:n&&!I||I&&0===I.length,program:E,authenticated:k});if("string"===typeof t&&"redirect"===t){const e=i.length>0?i.map(e=>"usnews_id="+encodeURIComponent(e)).join("&"):"";const t=""+B()+e;location.href=t}};const j=async()=>{I.map(e=>l.default.remove(e.id,o,E));let e=u();e[E]={schools:[]};c(e);_({schoolData:[],selectedCompareIds:[]})};const F=(e,t)=>{c(t);if(e){const{schools:t}=e;_({schoolData:t||[],selectedCompareIds:t.map(e=>e.id)||[],program:E,authenticated:k})}};const N=async e=>{if(!e)return;_({program:e,authenticated:k});if(!k){var t;let o=u();let a=null===o||void 0===o?void 0:null===(t=o[e])||void 0===t?void 0:t.schools;const r=await l.default.cleanUp(a,v(n),y?null:e);const i=g(r);o[e]={schools:i};c(o)}};return r.default.createElement(p.Provider,{value:{getCompareCheckedStatus:A,getCompareUrl:O,handleCompareChange:U,removeAll:j,updateStateFromChild:F,updateProgramFromChild:N,updateAutoFocus:T,autoFocus:x,firstCompareAdd:P,schoolData:I,selectedCompareIds:S,setInitialCognitoState:b}},t)}g.propTypes={allowCompareAuthCheck:i.default.bool,children:i.default.any,endpoint:i.default.string,product:i.default.string,stickyCompareProduct:i.default.string,allowCompareContextLoad:i.default.bool};g.defaultProps={endpoint:"/best-colleges/compass/api/compare/user"};const y=i.default.shape({id:i.default.string,name:i.default.string,location:i.default.object});t.CompareItemShape=y;const v=p.Consumer;t.CompareConsumer=v},"qqN+":function(e,t,o){"use strict";var n=o("TqRt");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=n(o("cOp2"));var r=n(o("gLav"));var i=n(o("q1tI"));var s=n(o("17x9"));var l=n(o("fSBB"));var d=n(o("O+15"));var c=n(o("jWhm"));var u=n(o("B7a9"));var f=n(o("IqqG"));var p=o("U0u7");var h=o("d753");var m=n(o("nd4Z"));function g(){const e=(0,a.default)(["\n        max-width: 332px;\n        padding: 0 ",";\n    "]);g=function(){return e};return e}const{gray15:y,white00:v}=p.Color;const b=(0,r.default)(c.default).withConfig({displayName:"StickyPromoEducation__ContentBox",componentId:"hoc4kt-0"})(["padding:1.25rem "," ",";",""],(0,h.padding)(4),(0,h.padding)(3),m.default.medium(g(),(0,h.padding)(1)));const C=(0,r.default)(f.default).withConfig({displayName:"StickyPromoEducation__SponsoredText",componentId:"hoc4kt-1"})(["letter-spacing:1.25px;"]);const w=({heading:e,title:t,description:o,button:n,onCollapse:a,onClose:r,onExpand:s,onDismiss:c,onClick:p,hideButton:h,collapsed:m,closed:g,sponsored:w,bottom:_,zIndex:k,noTablet:x,className:P})=>i.default.createElement("div",{className:"sm-hide "+P},i.default.createElement(l.default,{dark:true,noMobile:true,noTablet:x,heading:e,onCollapse:a,onExpand:s,onDismiss:c,onClose:r,onClick:p,hideButton:h,collapsed:m,closed:g,bottom:_,zIndex:k},i.default.createElement(b,{className:"sticky-promo-compass",spacingTop:3},i.default.createElement(u.default,{level:2,size:3,spacing:3,color:v},t),i.default.createElement(f.default,{bold:true,size:3,spacing:3,color:v},o),i.default.createElement(d.default,{medium:true,onClick:n.handleClick,label:n.label}),w&&i.default.createElement(C,{size:1,color:y,spacingTop:4,caps:true,bold:true},"Sponsored"))));w.defaultProps={onCollapse:function(){},onClose:function(){},onExpand:function(){},onDismiss:function(){},onClick:function(){}};w.propTypes={heading:s.default.string,title:s.default.string,description:s.default.string,button:s.default.object,onCollapse:s.default.func,onClose:s.default.func,onExpand:s.default.func,onDismiss:s.default.func,onClick:s.default.func,hideButton:s.default.bool,collapsed:s.default.bool,closed:s.default.bool,sponsored:s.default.bool,bottom:s.default.string,zIndex:s.default.number,noTablet:s.default.bool,className:s.default.string};var _=w;t.default=_;e.exports=t.default},rQMp:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;const n=()=>{try{const e="__storage_test__";const t=window.localStorage;t.setItem(e,e);t.removeItem(e);return true}catch(e){return false}};var a={getValue(e){if(false===n())return null;const t=window.localStorage.getItem(e);try{const e=JSON.parse(t);return e}catch(e){return null}},removeItem(e){if(false===n())return false;window.localStorage.removeItem(e);return null===window.localStorage.getItem(e)},setValue(e,t){if(false===n())return false;try{const o=JSON.stringify(t);window.localStorage.setItem(e,o);return window.localStorage.getItem(e)===o}catch(e){return false}}};t.default=a;e.exports=t.default},si7X:function(e,t,o){"use strict";(function(e){var n=o("TqRt");o("3bBZ");o("Kz25");Object.defineProperty(t,"__esModule",{value:true});t.useFeatureFlag=t.getFeatureFlag=t.interpretFlag=void 0;var a=n(o("44Ds"));var r=o("q1tI");var i,s;const l=(null===(i=e)||void 0===i?void 0:null===(s=i.location)||void 0===s?void 0:s.href)||"";let d=(t,o)=>{let n=null;const a=null!==o&&void 0!==o&&o.includes("?")?o.split("?")[1]:o;const r=e.URLSearchParams?new e.URLSearchParams(a):null;if(t&&r){n=r.get(t);t&&(t.startsWith("enable")||t.startsWith("disable"))&&(n=r.has(t)&&"false"!==n)}return n};t.interpretFlag=d;"undefined"!==typeof window&&(t.interpretFlag=d=(0,a.default)(d,(e,t)=>e+" "+t));const c=(e,t)=>d(e,t||l);t.getFeatureFlag=c;const u=(e,t,o)=>{const[n,a]=(0,r.useState)(d(e,t));(0,r.useEffect)(()=>{let r=d(e,t||l);"function"===typeof(null===o||void 0===o?void 0:o.override)&&(r=o.override(t||l,r));r!==n&&a(r)},[e,n,t]);(0,r.useEffect)(()=>{n&&console.debug('Feature flag "'+e+'": '+n)},[e,n]);return n};t.useFeatureFlag=u}).call(this,o("yLpj"))},u3zU:function(e,t,o){"use strict";var n=o("TqRt");o("3bBZ");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;o("0SAP");o("6zi+");var a=n(o("q1tI"));var r=n(o("17x9"));var i=n(o("gLav"));var s=o("U0u7");var l=o("d753");var d=n(o("jWhm"));var c=n(o("IqqG"));var u=n(o("Vw4G"));var f=n(o("j2TA"));var p=n(o("O+15"));var h=n(o("fSBB"));var m=o("gZlb");const{black90:g,gray50:y,white00:v}=s.Color;const b=(0,i.default)(d.default).withConfig({displayName:"StickyPromoCompare__ContentBox",componentId:"i3wxzf-0"})(["height:200px;width:330px;padding-top:0.25rem;margin:"," "," "," ",";overflow-y:auto;"],(0,l.margin)(0),(0,l.margin)(3),(0,l.margin)(3),(0,l.margin)(3));const C=(0,i.default)(d.default).withConfig({displayName:"StickyPromoCompare__SchoolDataWrapper",componentId:"i3wxzf-1"})(["display:flex;align-items:flex-start;flex-direction:column;height:auto;margin:"," ",";"],(0,l.margin)(0),(0,l.margin)(3));const w=(0,i.default)(c.default).withConfig({displayName:"StickyPromoCompare__SchoolName",componentId:"i3wxzf-2"})(["font-size:",";color:",";margin-bottom:",";line-height:",";text-align:left;width:95%;"],(0,l.fontSize)(3),g,(0,l.margin)(1),(0,l.lineHeight)(3));const _=(0,i.default)(c.default).withConfig({displayName:"StickyPromoCompare__SchoolLocation",componentId:"i3wxzf-3"})(["font-size:",";color:",";margin-bottom:",";line-height:",";"],(0,l.fontSize)(1),y,(0,l.margin)(3),(0,l.lineHeight)(1));const k=(0,i.default)(f.default).withConfig({displayName:"StickyPromoCompare__RemoveIcon",componentId:"i3wxzf-4"})(["position:relative;align-self:flex-end;top:15px;cursor:pointer;&:hover{fill:",";transition:0.5s ease all;}"],g);const x=(0,i.default)(p.default).withConfig({displayName:"StickyPromoCompare__CompareButton",componentId:"i3wxzf-5"})(["margin-top:",";"],(0,l.margin)(3));const P=(0,i.default)(p.default).withConfig({displayName:"StickyPromoCompare__AddSchoolButton",componentId:"i3wxzf-6"})(["width:95%;margin:.5rem 0;cursor:pointer;svg{margin-top:-1px;height:1rem;width:1rem;}"]);const E=({collapsed:e,heading:t,schoolData:o,onCompareChange:n,label:r,onClick:i,bottom:s,hideButton:l,zIndex:d,schoolButton:c,onUserInteraction:f,onExpand:p,onCollapse:g,noMobile:E,noTablet:S,className:I,compareButtonTracking:T})=>{const A=e=>{f&&f();if(null!==c&&void 0!==c&&c.tracking){const{tracking:e}=c;(0,m.fireTrackingCall)({googleAnalyticsData:{...e}})}n(e)};const B=()=>{T&&(0,m.fireTrackingCall)({googleAnalyticsData:{...T}});f&&f();i()};let D=false;if(c){D=true;for(const e of o)if(e.id==c.id){D=false;break}}return a.default.createElement("div",{className:"sm-hide "+I},a.default.createElement(h.default,{heading:t,collapsed:e,hideDismiss:true,hideButton:l,iconHoverColor:v,contentPadding:"0 0 0.5rem",bottom:s,zIndex:d,onUserInteraction:f,onCollapse:g,onExpand:p,noMobile:E,noTablet:S},a.default.createElement(b,null,D&&a.default.createElement(P,{secondary:true,small:true,onClick:A.bind(void 0,c),label:"Add this school",icon:"plus",iconFill:y,disabled:(null===o||void 0===o?void 0:o.length)>=25}),o?o.map(e=>a.default.createElement(C,{key:e.id},a.default.createElement(k,{name:"x-close",size:"0.625rem",fill:"gray50",onClick:A.bind(void 0,{id:e.id})}),a.default.createElement(w,{bold:true},e.name),a.default.createElement(_,{regular:true},e.location))):a.default.createElement("p",null,'You haven"t added any schools yet.')),a.default.createElement(u.default,{spacing:0}),a.default.createElement(x,{tertiary:true,medium:true,number:o?o.length:0,label:r,onClick:B})))};E.defaultProps={onCompareChange:function(){},onClick:function(){},hideButton:false,noMobile:false};E.propTypes={collapsed:r.default.bool,heading:r.default.string.isRequired,schoolData:r.default.array,onCompareChange:r.default.func.isRequired,label:r.default.string.isRequired,onClick:r.default.func,bottom:r.default.string,hideButton:r.default.bool,zIndex:r.default.number,schoolButton:r.default.object,onUserInteraction:r.default.func,onCollapse:r.default.func,onExpand:r.default.func,noMobile:r.default.func,noTablet:r.default.bool,className:r.default.string,compareButtonTracking:r.default.instanceOf(Object)};var S=E;t.default=S;e.exports=t.default},"x3/q":function(e,t,o){"use strict";(function(n){var a=o("TqRt");o("3bBZ");o("Kz25");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(o("lSNA"));var i=a(o("q1tI"));var s=a(o("17x9"));var l=o("K5qi");var d=a(o("m+lb"));var c=o("Vg22");var u=a(o("qqN+"));var f=a(o("u3zU"));var p=o("q7H3");var h=a(o("p46w"));var m=o("gZlb");var g=a(o("jYiI"));class y extends i.default.Component{constructor(){super();(0,r.default)(this,"setInitialState",(e,t=true)=>{this.cookieName=null;if(t){switch(e.product){case"colleges":this.cookieName="hide-edu-sticky-promo";this.compareHeading="Compare Colleges";this.compareLabel="Compare Schools Now";break;case"grad":this.cookieName="grad_promo_closed";this.compareHeading="Compare Schools";this.compareLabel="Compare Schools Now"}let t=null;const o=e.data.context.toggled_slideup;o&&(o.us&&"US"===this.location?t=o.us:o.international&&"US"!==this.location&&(t=o.international));const n=!(h.default.get(this.cookieName)||null===t||"US"===this.location&&e.compass.isPremium);const a=!(!e.data.context.stickyCompareProduct&&!e.stickyCompareProductOverride||true===e.data.context.hideStickyCompare);if(e.data.context.stickyCompareAddButton){this.schoolButton={id:e.data.context.stickyCompareAddButton.id,display_name:e.data.context.stickyCompareAddButton.display_name,location:{city:e.data.context.stickyCompareAddButton.location.city,state:e.data.context.stickyCompareAddButton.location.state},tracking:{category:"edu_compare_tracking",action:e.data.context.stickyCompareAddButton.id,label:"edu_profile_popup_add"}};this.interactionTimeout=setTimeout(function(){this.handleUserInteraction();this.updateCompareCollapsed(true)}.bind(this),2e4);this.scrollWatchElement=document.getElementsByTagName("HTML")[0];this.startingScrollDistance=this.scrollWatchElement.scrollTop;window.addEventListener("scroll",this.handleScroll)}this.firstAddCounter=0;const r=h.default.get("education-promo-slideout-state");this.isEduPromoCollapsed=!(!r||"collapsed"!=r);this.isCompareCollapsed=true;this.setState({showCompare:a,showEduPromo:n,isLoaded:true,slideup:t})}else{const t=!(!e.data.context.stickyCompareProduct&&!e.stickyCompareProductOverride||true===e.data.context.hideStickyCompare);this.setState({showCompare:t})}});(0,r.default)(this,"handleScroll",()=>{const e=this.scrollWatchElement.scrollTop;if(e>this.startingScrollDistance+1e3){this.handleUserInteraction();this.updateCompareCollapsed(true)}});(0,r.default)(this,"handleUserInteraction",()=>{window.removeEventListener("scroll",this.handleScroll);clearTimeout(this.interactionTimeout)});(0,r.default)(this,"handleEduDismiss",()=>{h.default.set(this.cookieName,1,{expires:28,domain:".usnews.com",path:"/"});this.setState({showEduPromo:false})});(0,r.default)(this,"handleCompareClick",e=>{location.href=e()});(0,r.default)(this,"handlePromoClick",e=>{const{button:t,tracking:o}=e;let n=new URL(t.url);if(o){o.fire_utag_link_event&&(0,m.fireTrackingCall)(o.tracking_identifier);o.append_int_code_to_button_url&&n.searchParams.append("int",o.tracking_identifier)}window.location=n.href});(0,r.default)(this,"updateEduPromoCollapsed",e=>{this.updateCollapsedCookie("promo",e?"collapsed":"open");this.isEduPromoCollapsed=e;this.setState(e=>e)});(0,r.default)(this,"updateCompareCollapsed",e=>{this.updateCollapsedCookie("compare",e?"collapsed":"open");this.isCompareCollapsed=e;this.setState(e=>e)});(0,r.default)(this,"updateCollapsedCookie",(e,t)=>{let o=null;switch(e){case"compare":o="education-compare-slideout-state";break;case"promo":o="education-promo-slideout-state";break}h.default.set(o,t,{domain:".usnews.com",path:"/"})});(0,r.default)(this,"checkFirstCompareAdd",()=>{this.firstAddCounter+=1;if(1===this.firstAddCounter){this.isEduPromoCollapsed=true;this.isCompareCollapsed=true;this.updateCollapsedCookie("promo","collapsed");this.updateCollapsedCookie("compare","open")}});this.state={showCompare:false,isLoaded:false};this.cookieName=null;this.compareHeading="";this.compareLabel="";this.schoolButton=null;this.timeout=null;this.firstRun=true;this.handleScroll=this.handleScroll.bind(this)}UNSAFE_componentWillReceiveProps(e){false!=e.compass.isAuthenticating&&!e.cognitoVisible||e.compass.isAuthenticating===this.props.compass.isAuthenticating&&!e.cognitoVisible||(0,g.default)().then(t=>{if(t&&t.country_code){this.location=t.country_code;this.setInitialState(e)}});e.stickyCompareProductOverride!=this.props.stickyCompareProductOverride&&this.setInitialState(e,false)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){const{slideup:e}=this.state;return i.default.createElement("div",null,this.state.isLoaded&&i.default.createElement(p.CompareConsumer,null,t=>{if(t){const{schoolData:a,handleCompareChange:r,firstCompareAdd:s,getCompareUrl:l,setInitialCognitoState:d}=t;let c="";this.schoolButton&&(c="edu_profile_popup_button");if("undefined"!==typeof window){var o,n;c="rankinglist"===(null===(o=window)||void 0===o?void 0:null===(n=o.utag_data)||void 0===n?void 0:n.page_type)?"edu_ranking_popup_button":this.schoolButton?"edu_profile_popup_button":"edu_myschools_popup_button"}if(this.props.cognitoVisible&&true==this.firstRun){this.firstRun=false;d()}s&&this.checkFirstCompareAdd();return i.default.createElement("div",null,this.state.showCompare&&i.default.createElement(f.default,{className:"md-hide",noTablet:true,schoolData:a,heading:this.compareHeading,label:this.compareLabel,onClick:()=>{this.handleCompareClick(l)},onCompareChange:e=>{r(e)},collapsed:this.isCompareCollapsed,onCollapse:()=>this.updateCompareCollapsed(true),onExpand:()=>this.updateCompareCollapsed(false),closed:this.state.showCompare,bottom:this.state.showEduPromo?"20rem":null,hideButton:true,zIndex:950,schoolButton:this.schoolButton,onUserInteraction:()=>this.handleUserInteraction(),noMobile:true,compareButtonTracking:{category:"edu_compare_tracking",action:"edu_compare_now",label:c}}),e&&this.state.showEduPromo&&i.default.createElement(u.default,{className:"md-hide",noTablet:true,heading:e.short_title,title:e.title,description:e.content,button:{handleClick:()=>this.handlePromoClick(e),label:e.button.text},onDismiss:()=>{this.handleEduDismiss()},onCollapse:()=>this.updateEduPromoCollapsed(true),onExpand:()=>this.updateEduPromoCollapsed(false),collapsed:this.isEduPromoCollapsed,hideButton:true,closed:!this.state.showEduPromo,zIndex:950}))}}))}}y.propTypes={data:s.default.object,product:s.default.string,stickyCompareProductOverride:s.default.string,compass:s.default.shape({isPremium:s.default.bool,isAuthenticating:s.default.bool}),cognitoVisible:s.default.any};const v=e=>{return{cognitoVisible:e.cognitoLoginVisible}};var b=(0,c.connect)(v,null)((0,l.gungnirGraphql_deprecated)(d.default,{},n)(y));t.default=b;e.exports=t.default}).call(this,"src/components/enhancements/education/StickyPromos/index.js")}}]);